{#
    PBLive
    Copyright Â© 2017  RunasSudo (Yingtong Li)

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
#}

<h1 class="ui dividing header">Pick a username</h1>

<div id="colour_picker_container">
<!-- 	<div style="line-height: 38px;">
		{% for colour in session.colours %}
			<button class="ui button" style="background-color: {{ colour[1] }}; width: 32px; height: 32px; padding: 0 0;" onclick="socket.emit('register', {{ colour[0] }}, '{{ colour[1] }}');">{{ colour[0] }}</button>
		{% endfor %}
	</div>
 -->    <div class="ui input">
        <input type="text" id="username" name="username" value="">
        <button class="ui button" style="width: 32px; height: 32px; padding: 0 0;" onclick="submitRegister()">Go</button>
    </div>
</div>

<script>
    function submitRegister() {
        var username = $('#username').val();
        window.localStorage.setItem("username", username);
        socket.emit('register', username);
    };

    var username = window.localStorage.getItem("username");

    if (username !== null)
    {
        $('#username').val(username)
    }
</script>
